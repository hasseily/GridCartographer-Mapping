<?xml version="1.0" encoding="UTF-8" ?>
<gamelink>

	<card
		title="ULTIMA IV: QUEST OF THE AVATAR"
		short="ULTIMA IV"
		titlelo="Ultima IV: Quest of the Avatar"
		beta="false"
		rev="1"
	/>

    <author><![CDATA[glaymore / rikkles]]></author>

	<dsub>

		<!-- avatar.exe -->
		<detect sys="40a3f909" prg="17926a3e" ph3="0" ph2="0" ph1="363aba18" ph0="bc">
			<!-- 0:xpos_global 1:ypos_global 2:xpos_local 3:ypos_local 4:location 5:floor 6:face -->
			<peek bytes="0 1 284 285 20 1e 1c" />
		</detect>

	</dsub>

	<regions>

		<region id="1" name="Britannia" ground_floor="true" start_floor="G" auto_create="true" >
			<grid width="32" height="32" tilex="8" tiley="8" origin_tl="true" />
		</region>

		<region id="2" name="Lord British's Castle" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="3" name="Lycaeum" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="4" name="Empath Abbey" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="5" name="Serpent's Hold" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="6" name="Moonglow" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="7" name="Britain" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="8" name="Jhelom" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="9" name="Yew" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="10" name="Minoc" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="11" name="Trinsic" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="12" name="Skara Brae" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="13" name="Magincia" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="14" name="Paws" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="15" name="Buccaneer's Den" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="16" name="Vesper" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="17" name="Cove" ground_floor="true" start_floor="G" auto_create="false" >
			<grid width="32" height="32" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="18" name="Deceit" ground_floor="false" start_floor="B1" auto_create="false" >
			<grid width="8" height="8" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="19" name="Despise" ground_floor="false" start_floor="B1" auto_create="false" >
			<grid width="8" height="8" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="20" name="Destard" ground_floor="false" start_floor="B1" auto_create="false" >
			<grid width="8" height="8" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="21" name="Wrong" ground_floor="false" start_floor="B1" auto_create="false" >
			<grid width="8" height="8" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="22" name="Covetous" ground_floor="false" start_floor="B1" auto_create="false" >
			<grid width="8" height="8" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="23" name="Shame" ground_floor="false" start_floor="B1" auto_create="false" >
			<grid width="8" height="8" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="24" name="Hythloth" ground_floor="false" start_floor="B1" auto_create="false" >
			<grid width="8" height="8" tilex="1" tiley="1" origin_tl="true" />
		</region>

		<region id="25" name="Stygian Abyss" ground_floor="false" start_floor="B1" auto_create="false" >
			<grid width="8" height="8" tilex="1" tiley="1" origin_tl="true" />
		</region>

	</regions>

	<views>

		<!-- Britannia -->
		<packetview region="1">
			<check offset="4" length="1" value="00" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Lord British's Castle -->
		<packetview region="2">
			<check offset="4" length="1" value="01" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Lycaeum -->
		<packetview region="3">
			<check offset="4" length="1" value="02" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Empath Abbey -->
		<packetview region="4">
			<check offset="4" length="1" value="03" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Serpent's Hold -->
		<packetview region="5">
			<check offset="4" length="1" value="04" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Moonglow -->
		<packetview region="6">
			<check offset="4" length="1" value="05" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Britain -->
		<packetview region="7">
			<check offset="4" length="1" value="06" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Jhelom -->
		<packetview region="8">
			<check offset="4" length="1" value="07" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Yew -->
		<packetview region="9">
			<check offset="4" length="1" value="08" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Minoc -->
		<packetview region="10">
			<check offset="4" length="1" value="09" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Trinsic -->
		<packetview region="11">
			<check offset="4" length="1" value="0a" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Skara Brae -->
		<packetview region="12">
			<check offset="4" length="1" value="0b" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Magincia -->
		<packetview region="13">
			<check offset="4" length="1" value="0c" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Paws -->
		<packetview region="14">
			<check offset="4" length="1" value="0d" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Buccaneer's Den -->
		<packetview region="15">
			<check offset="4" length="1" value="0e" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Vesper -->
		<packetview region="16">
			<check offset="4" length="1" value="0f" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Cove -->
		<packetview region="17">
			<check offset="4" length="1" value="10" />
			<xpos offset="0" length="1" min="0" max="ff" />
			<ypos offset="1" length="1" min="0" max="ff" />
		</packetview>

		<!-- Deceit -->
		<packetview region="18">
			<check offset="4" length="1" value="11" />
			<xpos offset="0" length="1" min="0" max="07" />
			<ypos offset="1" length="1" min="0" max="07" />
			<face offset="6" length="1" w="0" n="1" e="2" s="3" />
 			<floor offset="5" length="1" min="00" max="ff" dir="down" adjust="-1" />
		</packetview>

		<!-- Despise -->
		<packetview region="19">
			<check offset="4" length="1" value="12" />
			<xpos offset="0" length="1" min="0" max="07" />
			<ypos offset="1" length="1" min="0" max="07" />
			<face offset="6" length="1" w="0" n="1" e="2" s="3" />
 			<floor offset="5" length="1" min="00" max="ff" dir="down" adjust="-1" />
		</packetview>

		<!-- Destard -->
		<packetview region="20">
			<check offset="4" length="1" value="13" />
			<xpos offset="0" length="1" min="0" max="07" />
			<ypos offset="1" length="1" min="0" max="07" />
			<face offset="6" length="1" w="0" n="1" e="2" s="3" />
 			<floor offset="5" length="1" min="00" max="ff" dir="down" adjust="-1" />
		</packetview>

		<!-- Wrong -->
		<packetview region="21">
			<check offset="4" length="1" value="14" />
			<xpos offset="0" length="1" min="0" max="07" />
			<ypos offset="1" length="1" min="0" max="07" />
			<face offset="6" length="1" w="0" n="1" e="2" s="3" />
 			<floor offset="5" length="1" min="00" max="ff" dir="down" adjust="-1" />
		</packetview>

		<!-- Covetous -->
		<packetview region="22">
			<check offset="4" length="1" value="15" />
			<xpos offset="0" length="1" min="0" max="07" />
			<ypos offset="1" length="1" min="0" max="07" />
			<face offset="6" length="1" w="0" n="1" e="2" s="3" />
 			<floor offset="5" length="1" min="00" max="ff" dir="down" adjust="-1" />
		</packetview>

		<!-- Shame -->
		<packetview region="23">
			<check offset="4" length="1" value="16" />
			<xpos offset="0" length="1" min="0" max="07" />
			<ypos offset="1" length="1" min="0" max="07" />
			<face offset="6" length="1" w="0" n="1" e="2" s="3" />
 			<floor offset="5" length="1" min="00" max="ff" dir="down" adjust="-1" />
		</packetview>

		<!-- Hythloth -->
		<packetview region="24">
			<check offset="4" length="1" value="17" />
			<xpos offset="0" length="1" min="0" max="07" />
			<ypos offset="1" length="1" min="0" max="07" />
			<face offset="6" length="1" w="0" n="1" e="2" s="3" />
 			<floor offset="5" length="1" min="00" max="ff" dir="down" adjust="-1" />
		</packetview>

		<!-- Stygian Abyss -->
		<packetview region="25">
			<check offset="4" length="1" value="18" />
			<xpos offset="0" length="1" min="0" max="07" />
			<ypos offset="1" length="1" min="0" max="07" />
			<face offset="6" length="1" w="0" n="1" e="2" s="3" />
 			<floor offset="5" length="1" min="00" max="ff" dir="down" adjust="-1" />
		</packetview>


	</views>

</gamelink>